# ЁЯУШ PostgreSQL Document тАУ
---
# PostgreSQL ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
ржПржЗ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржиржЯрж┐ PostgreSQL ржбрзЗржЯрж╛ржмрзЗржЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ ржмрж┐ржнрж┐ржирзНржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржирж╕рзЗржкрзНржЯ ржУ ржХржорж╛ржирзНржб рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржзрж╛рж░ржгрж╛ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ PostgreSQL ржПрж░ ржорзВрж▓ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп, ржбрзЗржЯрж╛ржмрзЗржЗрж╕ рж╕рзНржХрж┐ржорж╛, Primary Key ржУ Foreign Key, VARCHAR ржУ CHAR ржПрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп, ржПржмржВ WHERE ржХрзНрж▓ржЬрзЗрж░ ржнрзВржорж┐ржХрж╛ ржЖрж▓рзЛржЪржирж╛ ржХрж░ржмред
---

## 1я╕ПтГг PostgreSQL ржХрзА?

**PostgreSQL** (ржЙржЪрзНржЪрж╛рж░ржг: ржкрзЛрж╖рзНржЯ-ржЧрзНрж░рзЗрж╕-ржХрж┐ржЙ-ржПрж▓) ржПржХржЯрж┐ ржЙржирзНржирждржорж╛ржирзЗрж░, ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕ **ржЕржмржЬрзЗржХрзНржЯ-рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ржмрзЗржЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (ORDBMS)**ред ржПржЯрж┐ рззрзпрзорзм рж╕рж╛рж▓рзЗ Ingres ржкрзНрж░рзЛржЬрзЗржХрзНржЯ ржерзЗржХрзЗ ржЙрзОржкржирзНржи рж╣ржпрж╝ ржПржмржВ University of California, Berkeley рждрзЗ ржПрж░ ржнрж┐рждрзНрждрж┐ рж╕рзНржерж╛ржкржи ржХрж░рж╛ рж╣ржпрж╝ред

### ЁЯФН PostgreSQL ржПрж░ ржорзВрж▓ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:

- тЬЕ **ACID ржХржоржкрзНрж▓рж╛рзЯрзЗржирзНрж╕**: ржПржЯрж┐ Atomicity, Consistency, Isolation, ржПржмржВ Durability ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ, ржпрж╛ ржХрзЛржирзЛ ржЯрзНрж░рж╛ржиржЬрзНржпрж╛ржХрж╢ржи ржбрзЗржЯрж╛рж░ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрзЗред
- ЁЯзй **Extensibility**: ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржирж┐ржЬрж╕рзНржм ржбрзЗржЯрж╛ ржЯрж╛ржЗржк, ржЕржкрж╛рж░рзЗржЯрж░, ржлрж╛ржВрж╢ржи, ржПржмржВ ржнрж╛рж╖рж╛ ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред
- ЁЯФТ **Security & Role Management**: PostgreSQL рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржЗржЙржЬрж╛рж░ рж░рзЛрж▓ ржУ ржкрж╛рж░ржорж┐рж╢ржи ржоржбрзЗрж▓ рж╕ржорж░рзНржержи ржХрж░рзЗред
- ЁЯМР **Cross-platform support**: Windows, Linux, macOS рж╕рж╣ ржмрж┐ржнрж┐ржирзНржи ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржорзЗ ржПржЯрж┐ ржирж┐рж░рзНржмрж┐ржШрзНржирзЗ ржЪрж▓рзЗред
- ЁЯУж **JSON ржПржмржВ XML рж╕рж╛ржкрзЛрж░рзНржЯ**: ржПржЯрж┐ ржЖржзрзБржирж┐ржХ NoSQL рж╕рзБржмрж┐ржзрж╛рж░ржУ рж╕ржорж░рзНржержи ржжрзЗржпрж╝ (ржпрзЗржоржи: JSONB ржЯрж╛ржЗржк)ред

### ЁЯзк ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE students (
    student_id SERIAL PRIMARY KEY,
    full_name VARCHAR(100),
    date_of_birth DATE,
    gpa NUMERIC(3, 2)
);
```

ржПржЗ ржЯрзЗржмрж┐рж▓ржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ рждржерзНржп рж╕ржВрж░ржХрзНрж╖ржгрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗ, ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ID, ржкрзВрж░рзНржг ржирж╛ржо, ржЬржирзНржо рждрж╛рж░рж┐ржЦ, ржПржмржВ GPA рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗред

## 2я╕ПтГг ржбрзЗржЯрж╛ржмрзЗржЗрж╕ рж╕рзНржХрж┐ржорж╛рж░ ржЙржжрзНржжрзЗрж╢рзНржп ржХрзА?
рж╕рзНржХрж┐ржорж╛ (Schema) рж╣рж▓рзЛ ржПржХржЯрж┐ рж▓ржЬрж┐ржХрзНржпрж╛рж▓ ржХржиржЯрзЗржЗржирж╛рж░ ржпрж╛ ржбрзЗржЯрж╛ржмрзЗржЗрж╕ ржЕржмржЬрзЗржХрзНржЯ (ржпрзЗржоржи ржЯрзЗржмрж┐рж▓, ржнрж┐ржЙ, ржЗржиржбрзЗржХрзНрж╕, ржЯрзНрж░рж┐ржЧрж╛рж░, ржлрж╛ржВрж╢ржи) рж╕ржорзВрж╣ржХрзЗ рж╕ржВржЧржарж┐ржд ржХрж░рзЗред ржПржЯрж┐ ржПржХржЯрж┐ "ржирзЗржорж╕рзНржкрзЗрж╕" рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржпрж╛ ржбрзЗржЯрж╛рж░ рж╢рзНрж░рзЗржгрж┐ржмрж┐ржирзНржпрж╛рж╕, ржирж┐рж░рж╛ржкрждрзНрждрж╛, ржПржмржВ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХржирзНржЯрзНрж░рзЛрж▓рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржнрзВржорж┐ржХрж╛ ржкрж╛рж▓ржи ржХрж░рзЗред

ЁЯза ржХрзЗржи рж╕рзНржХрж┐ржорж╛ ржжрж░ржХрж╛рж░?
ржоржбрж┐ржЙрж▓рж╛рж░ ржбрж┐ржЬрж╛ржЗржи: рж╕рзНржХрж┐ржорж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржнрж┐ржирзНржи ржнрж┐ржирзНржи ржмрж┐ржЬржирзЗрж╕ ржЗржЙржирж┐ржЯ ржмрж╛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржоржбрж┐ржЙрж▓ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ рж╕ржВржЧржарж┐ржд рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗржиред

ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржУ ржкрж╛рж░ржорж┐рж╢ржи ржХржирзНржЯрзНрж░рзЛрж▓: ржЖржкржирж┐ ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНржХрж┐ржорж╛рж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ рж░рзЛрж▓/ржкрж╛рж░ржорж┐рж╢ржи ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, ржпрж╛ ржбрзЗржЯрж╛ рж╕рзБрж░ржХрзНрж╖рж╛ржпрж╝ рж╕рж╣рж╛ржпрж╝ржХред

ржирзЗржЗржо ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржПржбрж╝рж╛ржирзЛ: ржПржХржЗ ржбрзЗржЯрж╛ржмрзЗржЗрж╕рзЗ sales.orders ржПржмржВ support.orders ржжрзБржЗржЯрж┐ ржЯрзЗржмрж┐рж▓ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржпрзЗрж╣рзЗрждрзБ рждрж╛рж░рж╛ ржЖрж▓рж╛ржжрж╛ рж╕рзНржХрж┐ржорж╛ржпрж╝ ржЖржЫрзЗред

ЁЯФз ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

-- ржПржХржЯрж┐ ржирждрзБржи рж╕рзНржХрж┐ржорж╛ рждрзИрж░рж┐:
```sql
CREATE SCHEMA accounting;
```

-- рж╕рзЗржЗ рж╕рзНржХрж┐ржорж╛рж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓:
```sql
CREATE TABLE accounting.invoices (
    invoice_id SERIAL PRIMARY KEY,
    client_name TEXT,
    amount_due NUMERIC
);
```
ржПржЗ ржХрж╛ржарж╛ржорзЛрждрзЗ, invoices ржЯрзЗржмрж┐рж▓ржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ accounting рж╕рзНржХрж┐ржорж╛рж░ ржЕржирзНрждрж░рзНржЧржд ржПржмржВ ржЕржирзНржпрж╛ржирзНржп рж╕рзНржХрж┐ржорж╛ржпрж╝ invoices ржирж╛ржорзЗрж░ ржЯрзЗржмрж┐рж▓ ржерж╛ржХрждрзЗ ржкрж╛рж░ржмрзЗред

## 3я╕ПтГг Primary Key ржПржмржВ Foreign Key ржмрзНржпрж╛ржЦрзНржпрж╛
Primary Key ржПржмржВ Foreign Key PostgreSQL-ржПрж░ relational architecture ржПрж░ ржжрзБржЯрж┐ рж╕ржмржЪрзЗржпрж╝рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржирж╕рзЗржкрзНржЯред ржПрж░рж╛ ржбрзЗржЯрж╛рж░ integrity ржПржмржВ ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред

ЁЯФР Primary Key:
ржПржЯрж┐ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо (ржмрж╛ ржХрж▓рж╛ржо рж╕ржорж╖рзНржЯрж┐) ржпрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ рж╕ржирж╛ржХрзНржд ржХрж░рзЗред

ржПржЯрж┐ ржХржЦржирзЛ NULL рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржПржмржВ рж░рзЗржХрж░рзНржб ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ рж╣рждрзЗ ржжрзЗржпрж╝ ржирж╛ред

ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ Primary Key ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред

ЁЯФЧ Foreign Key:
ржПржЯрж┐ ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНрждред

ржПржЯрж┐ parent-child relationship ржирж┐рж░рзНржзрж╛рж░ржгрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

Foreign Key ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржПржХржЯрж┐ child ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж╛ржи рж╕ржмрж╕ржорзЯ parent ржЯрзЗржмрж┐рж▓рзЗ ржмрж┐ржжрзНржпржорж╛ржи ржерж╛ржХрзЗ (referential integrity)ред

ЁЯзк ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

-- Parent ржЯрзЗржмрж┐рж▓:
CREATE TABLE departments (
    dept_id SERIAL PRIMARY KEY,
    dept_name VARCHAR(100) NOT NULL
);


-- Child ржЯрзЗржмрж┐рж▓:
```sql
CREATE TABLE employees (
    emp_id SERIAL PRIMARY KEY,
    emp_name VARCHAR(100),
    dept_id INT,
    FOREIGN KEY (dept_id) REFERENCES departments(dept_id)
);
```
ржПржЗ ржХрж╛ржарж╛ржорзЛрждрзЗ, employees ржЯрзЗржмрж┐рж▓рзЗрж░ dept_id ржХрзЗржмрж▓ржорж╛рждрзНрж░ departments ржЯрзЗржмрж┐рж▓рзЗрж░ ржмрзИржз dept_id ржорж╛ржиржЗ ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред

## 4я╕ПтГг VARCHAR ржПржмржВ CHAR ржПрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп
PostgreSQL-ржП VARCHAR ржПржмржВ CHAR ржЙржнржпрж╝ржЗ character string ржЯрж╛ржЗржк, ржХрж┐ржирзНрждрзБ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ рждрж╛рж░рж╛ ржнрж┐ржирзНржиред

ЁЯзм ржорзВрж▓ ржкрж╛рж░рзНржержХрзНржп:
ржмрзИрж╢рж┐рж╖рзНржЯрзНржп	VARCHAR(n)	CHAR(n)
ржжрзИрж░рзНржШрзНржп	ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ (Variable-length)	ржирж┐рж░рзНржжрж┐рж╖рзНржЯ (Fixed-length)
рж╕рзНржЯрзЛрж░рзЗржЬ	рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржмрж╛ржЗржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ	ржкрзВрж░рзНржг n ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░рзЗрж░ ржЬрж╛ржпрж╝ржЧрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ
ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕	рж╕рж╛ржзрж╛рж░ржгржд ржжрзНрж░рзБржд ржУ ржорзЗржорзЛрж░рж┐ рж╕рж╛рж╢рзНрж░ржпрж╝рзА	ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржпрзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд
ржЯрзНрж░рж┐ржорж┐ржВ	рж╢рзЗрж╖рзЗ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕рзНржкрзЗрж╕ рж░рж╛ржЦрзЗ ржирж╛	рж╕рзНржкрзЗрж╕ ржжрж┐ржпрж╝рзЗ ржкрзВрж░ржг ржХрж░рзЗ

ЁЯзк ржЙржжрж╛рж╣рж░ржг:

CREATE TABLE users (
    username VARCHAR(50),    -- ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржирж╛ржо, ржнрзНржпрж╛рж░рж┐ржпрж╝рзЗржмрж▓ ржжрзИрж░рзНржШрзНржпрзЗ
    status CHAR(1)           -- 'A', 'I' ржорждрзЛ рж╕рзНржерж┐рждрж┐ ржорж╛ржи
);

VARCHAR ржЖржжрж░рзНрж╢ ржЯрзЗржХрзНрж╕ржЯ ржЗржиржкрзБржЯрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ ржПржмржВ CHAR ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ ржпрзЗржЦрж╛ржирзЗ character-length рж╕рзНржерж┐рж░ ржПржмржВ ржкрзВрж░рзНржмржирж┐рж░рзНржзрж╛рж░рж┐рждред

## 5я╕ПтГг WHERE ржХрзНрж▓ржЬрзЗрж░ ржнрзВржорж┐ржХрж╛
WHERE ржХрзНрж▓ржЬ SQL ржПрж░ ржПржХржЯрж┐ ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЕржВрж╢, ржпрж╛ ржЖржкржирж╛ржХрзЗ ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ ржХрзЗржмрж▓ржорж╛рждрзНрж░ рж╕рзЗржЗ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рждрзЗ ржжрзЗржпрж╝ ржпрзЗржЧрзБрж▓рзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНржд ржкрзВрж░ржг ржХрж░рзЗред

ЁЯОп ржмрзНржпржмрж╣рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░:
тЬЕ Data Filtering: рж╕ржорж╕рзНржд рж░рзЗржХрж░рзНржбрзЗрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЗржХрж░рзНржб ржирж┐рж░рзНржмрж╛ржЪржиред

тЬЕ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржПржмржВ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕: ржХржо ржбрзЗржЯрж╛ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ, ржжрзНрж░рзБржд рж░рзЗрж╕ржкржирзНрж╕ ржЯрж╛ржЗржоред

тЬЕ UPDATE/DELETE ржЕржкрж╛рж░рзЗрж╢ржи рж╕рзАржорж┐ржд рж░рж╛ржЦрж╛ред

ЁЯУМ WHERE ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯ:
SELECT тАУ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛

UPDATE тАУ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЗржХрж░рзНржб ржЖржкржбрзЗржЯ ржХрж░рж╛

DELETE тАУ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЗржХрж░рзНржб ржбрж┐рж▓рж┐ржЯ ржХрж░рж╛

ЁЯзк ржЙржжрж╛рж╣рж░ржг:

-- рж╢рзБржзрзБржорж╛рждрзНрж░ рзйрзж ржмржЫрж░рзЗрж░ ржЙржкрж░рзЗ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржжрзЗржЦрж╛:
SELECT * FROM students WHERE age > 30;

-- ржпрж╛ржжрзЗрж░ ржирж╛ржо тАШHasanтАЩ, рждрж╛ржжрзЗрж░ GPA ржЖржкржбрзЗржЯ:
UPDATE students SET gpa = 3.85 WHERE full_name = 'Hasan';

-- ржмрзЯрж╕ рззрзо ржПрж░ ржирж┐ржЪрзЗ ржПржоржи рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржбрж┐рж▓рж┐ржЯ ржХрж░рж╛:
DELETE FROM students WHERE age < 18;
ЁЯФН WHERE ржХрзНрж▓ржЬрзЗ ржмрзНржпржмрж╣рзГржд ржЕржкрж╛рж░рзЗржЯрж░:
рждрзБрж▓ржирж╛: =, !=, <, >, <=, >=

ржзрж░ржг ржЕржирзБрж╕ржирзНржзрж╛ржи: LIKE, IN, BETWEEN

NULL ржЪрзЗржХ: IS NULL, IS NOT NULL

